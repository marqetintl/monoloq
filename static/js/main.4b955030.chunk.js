(this["webpackJsonp@miq/monoloq"]=this["webpackJsonp@miq/monoloq"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var a=n(3),c=!1,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hour:"numeric",minute:"numeric"},n=new Intl.DateTimeFormat("en-US",Object(a.a)({},t));return n.format(new Date(e))},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weekday:"short",month:"long",day:"numeric"},n=new Intl.DateTimeFormat("en-US",Object(a.a)({},t));return n.format(new Date(e))},s=function(e){var t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t}},13:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return C}));var a=n(12),c=n(0),r=n(4),i=n(16),s=n(3),o=n(11),d=n(31),u=n(49),l=n(28),j=n(21),b=/(\n|\r|\r\n){2,}/g,O=function(){return function(e){return new Promise((function(t){var n=localStorage.getItem("entries");return n?n=JSON.parse(n):(n=_.entries,localStorage.setItem("entries",JSON.stringify(n))),e({type:"SET_ENTRIES",payload:n}),t(n)}))}},h=function(e){return function(t,n){return new Promise((function(a){var c=n().entries,r=Object(s.a)(Object(s.a)({},c),{},Object(j.a)({},"".concat(e.slug),e));localStorage.setItem("entries",JSON.stringify(r)),t({type:"SET_ENTRIES",payload:r}),a(Object(s.a)(Object(s.a)({},e),{},{status:1}))}))}},m=(n(40),n(1)),f=(0,n(0).forwardRef)((function(e,t){var n=e.value,c=e.onChange,r=e.placeholder,i=void 0===r?"Start typing ...":r,o=Object(a.a)(e,["value","onChange","placeholder"]),d=e.style;return Object(m.jsxs)("div",{className:"TextareaX",children:[Object(m.jsx)("span",{id:"Mirror",style:d,children:"".concat(n,"\n")}),Object(m.jsx)("div",{className:"Input",children:Object(m.jsx)("textarea",Object(s.a)(Object(s.a)({},o),{},{value:n,onChange:c,placeholder:i,style:d,ref:t}))})]})})),v=["What are your thoughts ...","What are you up to ...","How are you feeling right now?"],g=function(e){var t=e.placeholder,n=void 0===t?Object(l.sample)(v):t,a=e.maxLength,c=void 0===a?280:a;return Object(m.jsx)(f,Object(s.a)(Object(s.a)({},e),{},{placeholder:n,maxLength:c,required:!0}))};function p(e){var t=Object(o.b)(),n=Object(c.useState)(""),a=Object(d.a)(n,2),r=a[0],i=a[1];return Object(m.jsx)("div",{id:"EntryAddForm",children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n,a={slug:Object(u.a)(),text:(n=r,n&&(n=n.trim().replace(b,"\n\n")),n),dt:new Date};t(h(a)).then((function(e){e.status&&i("")}))},className:"entries-add-form",children:[Object(m.jsx)("div",{className:"entries-add-form-input",children:Object(m.jsx)(g,{value:r,onChange:function(e){return i(e.target.value)}})}),Object(m.jsx)("div",{className:"entries-add-form-submit",children:Object(m.jsx)("button",{type:"submit",children:"Submit"})})]})})}n(42);var x=n(10);function y(e){var t=e.data,n=void 0===t?{}:t;Object(a.a)(e,["data"]);return Object(m.jsxs)("div",{className:"entry",children:[Object(m.jsx)("div",{className:"entry-text",children:n.text}),Object(m.jsx)("div",{className:"entry-meta",children:Object(m.jsx)("span",{className:"entry-meta-time",children:"".concat(Object(x.d)(n.date))})})]})}var N=new Map;function E(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.entries}));return Object(c.useEffect)((function(){t(O())}),[t]),N.clear(),Object.values(n).forEach((function(e){var t=new Date(e.dt);e=Object(s.a)(Object(s.a)({},e),{},{date:t});var n=Object(x.c)(t);N.has(n)||N.set(n,{date:t,entries:[]});var a=N.get(n);a.entries.push(e),N.set(n,a)})),Object(m.jsxs)("section",{id:"EntriesView",className:"entries",children:[Object(m.jsx)("div",{className:"entries-days",children:Object(i.a)(N.values()).map((function(e){return Object(c.createElement)(S,{data:e,dispatch:t,key:"".concat(e.date)})}))}),Object(m.jsx)("footer",{className:"entries-footer",children:Object(m.jsx)(p,{})})]})}var S=function(e){var t=e.data,n=void 0===t?{entries:[]}:t,a=e.dispatch;return Object(m.jsxs)("div",{className:"entries-day",children:[Object(m.jsx)("div",{className:"weekday",children:Object(x.b)(n.date)}),Object(m.jsx)("div",{className:"items",children:n.entries.map((function(e){return Object(c.createElement)(y,{dispatch:a,data:e,key:e.slug})}))})]})},w=n(29),T=n(48),_=(n(43),{entries:{},settings:{created:null,theme:"light"}}),I=Object(c.lazy)((function(){return Promise.resolve().then(n.bind(null,29))}));function D(e){return Object(m.jsx)("div",{id:"Monoloq",children:Object(m.jsxs)("div",{className:"mn",children:[Object(m.jsx)("header",{className:"mn-header",children:Object(m.jsx)(R,{})}),Object(m.jsx)("section",{className:"mn-body",children:Object(m.jsx)("main",{className:"mn-main",role:"main",children:Object(m.jsx)(c.Suspense,{fallback:Object(m.jsx)("div",{children:"loading ..."}),children:Object(m.jsxs)(r.c,{children:[Object(m.jsx)(r.a,{path:"/settings/",component:I}),Object(m.jsx)(r.a,{path:"/",component:E})]})})})})]})})}var R=function(e){var t=e.sitename,n=void 0===t?"Monoloq":t;Object(a.a)(e,["sitename"]);return Object(m.jsxs)("div",{id:"Logo",className:"btn",children:[Object(m.jsx)(T.a,{className:"btn-icon"}),Object(m.jsx)("span",{className:"btn-label",children:n})]})},C={entries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.entries,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_ENTRIES":return Object(s.a)({},a);case"CLEAR_ENTRIES":return Object(s.a)({},_.entries);default:return Object(s.a)({},e)}},settings:w.settingsReducer}},29:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i})),n.d(t,"settingsReducer",(function(){return s}));var a=n(3),c=(n(0),n(13)),r=n(1);function i(){return Object(r.jsx)("div",{children:"settings"})}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.b.settings,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,i=void 0===r?{}:r;switch(n){case"RESET_SETTINGS":return Object(a.a)({},e);case"SET_THEME":return Object(a.a)(Object(a.a)({},e),i);default:return e}}},40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t),n.d(t,"appStore",(function(){return p}));var a=n(16),c=n(3),r=n(0),i=n.n(r),s=n(18),o=n.n(s),d=n(27),u=n(11),l=n(30),j=n(17),b=n(13),O=n(10),h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},m=n(1),f=Object(j.b)(Object(c.a)({},b.c)),v=[d.a],g=[j.a.apply(void 0,v)];O.a&&(g=[].concat(Object(a.a)(g),[window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}]));var p=Object(j.d)(f,b.b,j.c.apply(void 0,Object(a.a)(g)));o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(l.a,{children:Object(m.jsx)(u.a,{store:p,children:Object(m.jsx)(b.a,{})})})}),document.getElementById("root")),h()}},[[45,1,2]]]);
//# sourceMappingURL=main.4b955030.chunk.js.map