(this["webpackJsonp@miq/monoloq"]=this["webpackJsonp@miq/monoloq"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return _}));var c=n(0),r=n(3),a=n(15),i=n(4),s=n(9),o=n(29),d=n(45),u=n(20),l=/(\n|\r|\r\n){2,}/g,j=function(){return function(e){return new Promise((function(t){var n=localStorage.getItem("entries");return n?n=JSON.parse(n):(n=S.entries,localStorage.setItem("entries",JSON.stringify(n))),e({type:"SET_ENTRIES",payload:n}),t(n)}))}},b=function(e){return function(t,n){return new Promise((function(c){var r=n().entries,a=Object(i.a)(Object(i.a)({},r),{},Object(u.a)({},"".concat(e.slug),e));localStorage.setItem("entries",JSON.stringify(a)),t({type:"SET_ENTRIES",payload:a}),c(Object(i.a)(Object(i.a)({},e),{},{status:1}))}))}},O=n(21),h=(n(37),n(1)),f=(0,n(0).forwardRef)((function(e,t){var n=e.value,c=e.onChange,r=e.placeholder,a=void 0===r?"Start typing ...":r,s=Object(O.a)(e,["value","onChange","placeholder"]),o=e.style;return Object(h.jsxs)("div",{className:"TextareaX",children:[Object(h.jsx)("span",{id:"Mirror",style:o,children:"".concat(n,"\n")}),Object(h.jsx)("div",{className:"Input",children:Object(h.jsx)("textarea",Object(i.a)(Object(i.a)({},s),{},{value:n,onChange:c,placeholder:a,style:o,ref:t}))})]})})),v=function(e){var t=e.placeholder,n=void 0===t?"What are your thoughts ...":t,c=e.maxLength,r=void 0===c?280:c;return Object(h.jsx)(f,Object(i.a)(Object(i.a)({},e),{},{placeholder:n,maxLength:r,required:!0}))};function m(e){var t=Object(s.b)(),n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],i=r[1];return Object(h.jsx)("div",{id:"EntryAddForm",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n,c={slug:Object(d.a)(),text:(n=a,n&&(n=n.trim().replace(l,"\n\n")),n),dt:new Date};t(b(c)).then((function(e){e.status&&i("")}))},className:"entries-add-form",children:[Object(h.jsx)("div",{className:"entries-add-form-input",children:Object(h.jsx)(v,{value:a,onChange:function(e){return i(e.target.value)}})}),Object(h.jsx)("div",{className:"entries-add-form-submit",children:Object(h.jsx)("button",{type:"submit",children:"Submit"})})]})})}n(39);var g=n(14);function p(e){var t=e.data,n=void 0===t?{}:t;Object(O.a)(e,["data"]);return Object(h.jsxs)("div",{className:"entry",children:[Object(h.jsx)("div",{className:"entry-text",children:n.text}),Object(h.jsx)("div",{className:"entry-meta"})]})}var x=new Map;function E(e){var t=Object(s.b)(),n=Object(s.c)((function(e){return e.entries}));return Object(c.useEffect)((function(){t(j())}),[t]),x.clear(),Object.values(n).forEach((function(e){var t=new Date(e.dt);e=Object(i.a)(Object(i.a)({},e),{},{date:t});var n=Object(g.c)(t);x.has(n)||x.set(n,{date:t,entries:[]});var c=x.get(n);c.entries.push(e),x.set(n,c)})),Object(h.jsxs)("section",{id:"EntriesView",className:"entries",children:[Object(h.jsx)("div",{className:"entries-days",children:Object(a.a)(x.values()).map((function(e){return Object(c.createElement)(y,{data:e,dispatch:t,key:"".concat(e.date)})}))}),Object(h.jsx)("footer",{className:"entries-footer",children:Object(h.jsx)(m,{})})]})}var y=function(e){var t=e.data,n=void 0===t?{entries:[]}:t,r=e.dispatch;return Object(h.jsxs)("div",{className:"entries-day",children:[Object(h.jsx)("div",{className:"weekday",children:Object(g.b)(n.date)}),Object(h.jsx)("div",{className:"items",children:n.entries.map((function(e){return Object(c.createElement)(p,{dispatch:r,data:e,key:e.slug})}))})]})},N=n(27),S=(n(40),{entries:{},settings:{created:null,theme:"light"}}),T=Object(c.lazy)((function(){return Promise.resolve().then(n.bind(null,27))}));function w(e){return Object(h.jsx)("div",{id:"Monoloq",children:Object(h.jsxs)("div",{className:"mn",children:[Object(h.jsx)("header",{className:"mn-header",children:"header"}),Object(h.jsx)("section",{className:"mn-body",children:Object(h.jsx)("main",{className:"mn-main",role:"main",children:Object(h.jsx)(c.Suspense,{fallback:Object(h.jsx)("div",{children:"loading ..."}),children:Object(h.jsxs)(r.c,{children:[Object(h.jsx)(r.a,{path:"/settings/",component:T}),Object(h.jsx)(r.a,{path:"/",component:E})]})})})})]})})}var _={entries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.entries,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case"SET_ENTRIES":return Object(i.a)({},c);case"CLEAR_ENTRIES":return Object(i.a)({},S.entries);default:return Object(i.a)({},e)}},settings:N.settingsReducer}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i}));var c=n(4),r=!1,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weekday:"short",month:"long",day:"numeric"},n=new Intl.DateTimeFormat("en-US",Object(c.a)({},t));return n.format(new Date(e))},i=function(e){var t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t}},27:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i})),n.d(t,"settingsReducer",(function(){return s}));var c=n(4),r=(n(0),n(11)),a=n(1);function i(){return Object(a.jsx)("div",{children:"settings"})}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.b.settings,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload,i=void 0===a?{}:a;switch(n){case"RESET_SETTINGS":return Object(c.a)({},e);case"SET_THEME":return Object(c.a)(Object(c.a)({},e),i);default:return e}}},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t),n.d(t,"appStore",(function(){return p}));var c=n(15),r=n(4),a=n(0),i=n.n(a),s=n(17),o=n.n(s),d=n(26),u=n(9),l=n(28),j=n(16),b=n(11),O=n(14),h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},f=n(1),v=Object(j.b)(Object(r.a)({},b.c)),m=[d.a],g=[j.a.apply(void 0,m)];O.a&&(g=[].concat(Object(c.a)(g),[window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}]));var p=Object(j.d)(v,b.b,j.c.apply(void 0,Object(c.a)(g)));o.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(l.a,{children:Object(f.jsx)(u.a,{store:p,children:Object(f.jsx)(b.a,{})})})}),document.getElementById("root")),h()}},[[43,1,2]]]);
//# sourceMappingURL=main.c0226bed.chunk.js.map