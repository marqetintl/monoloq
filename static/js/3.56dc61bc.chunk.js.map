{"version":3,"sources":["../../../node_modules/react-bootstrap-icons/dist/icons/calendar-event.js","Monoloq/todos/index.jsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","CalendarEvent","forwardRef","_ref","ref","color","size","rest","React","createElement","xmlns","viewBox","width","height","fill","d","propTypes","PropTypes","string","oneOfType","number","defaultProps","DatePickerFooter","props","goToday","useContext","CalendarCtx","className","onClick","TodosView","useState","Date","currDate","setCurrDate","todo","setTodo","dispatch","useDispatch","todos","useSelector","state","formatDateToStr","useEffect","todosActions","byDate","id","onDateClick","date","selected","style","display","justifyContent","alignItems","DatePicker","showBody","renderToggler","Icon","setShow","show","FooterComponent","flexGrow","Week","map","item","data","slug","onSubmit","e","preventDefault","fD","value","dt","post","then","status","required","type","onChange","maxLength","placeholder","tabIndex","Todo","isDone","setDone","getClassName","name","checked","newValue","patch","Error","catch","err","console","log"],"mappings":"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","file":"static/js/3.56dc61bc.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar CalendarEvent = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var color = _ref.color,\n      size = _ref.size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"\n  }));\n});\nCalendarEvent.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nCalendarEvent.defaultProps = {\n  color: 'currentColor',\n  size: '1em'\n};\nexport default CalendarEvent;","import { formatDateToStr, getClassName, Calendar, IconButton } from \"@miq/shared\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { todosActions } from \"./utils\";\n\nimport \"./todos.scss\";\nimport { CalendarEvent } from \"react-bootstrap-icons\";\nimport { CalendarCtx } from \"@miq/shared/src/calendar\";\n\nconst DatePickerFooter = (props) => {\n    const { goToday } = useContext(CalendarCtx);\n    return (\n        <div className=\"\">\n            <button onClick={goToday}>Today</button>\n        </div>\n    );\n};\n\nexport default function TodosView(props) {\n    const [currDate, setCurrDate] = useState(new Date());\n    const [todo, setTodo] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const todos = useSelector((state) => state.todos)[formatDateToStr(currDate)] || [];\n\n    useEffect(() => {\n        dispatch(todosActions.byDate(currDate));\n    }, [dispatch, currDate]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let fD = { value: todo, dt: currDate };\n        dispatch(todosActions.post(fD)).then(({ status }) => {\n            setTodo(\"\");\n        });\n    };\n\n    const setDate = ({ date }) => setCurrDate(date);\n\n    return (\n        <div id=\"TodosView\">\n            <Calendar onDateClick={setDate} selected={currDate}>\n                <div className=\"todos\">\n                    <div\n                        className=\"d-flex\"\n                        style={{\n                            display: \"flex\",\n                            justifyContent: \"space-between\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        <div id=\"date-select\">\n                            <Calendar.DatePicker\n                                showBody={false}\n                                renderToggler={(props) => (\n                                    <IconButton\n                                        Icon={CalendarEvent}\n                                        onClick={() => props.setShow(!props.show)}\n                                    />\n                                )}\n                                FooterComponent={DatePickerFooter}\n                            />\n                        </div>\n\n                        <div style={{ flexGrow: 1 }}>\n                            <Calendar.Week />\n                        </div>\n                    </div>\n\n                    <div className=\"todos-items\">\n                        {todos.map((item) => (\n                            <Todo data={item} {...{ dispatch }} key={item.slug} />\n                        ))}\n                    </div>\n                </div>\n\n                <div className=\"viewport-footer\">\n                    <form onSubmit={handleSubmit} className=\"todo-add-form\">\n                        <input\n                            required\n                            type=\"text\"\n                            value={todo}\n                            onChange={(e) => setTodo(e.target.value)}\n                            maxLength={200}\n                            placeholder=\"What do you have to do?\"\n                            tabIndex={1}\n                        />\n                        <div className=\"btn\">\n                            <input type=\"submit\" value=\"Save\" />\n                        </div>\n                    </form>\n                </div>\n            </Calendar>\n        </div>\n    );\n}\n\nconst Todo = ({ data, dispatch, ...props }) => {\n    const [isDone, setDone] = useState(data.isDone || false);\n\n    if (!data.slug) return;\n\n    const toggleComplete = (e) => {\n        const newValue = !isDone;\n        dispatch(todosActions.patch(data, { isDone: newValue }))\n            .then(({ status }) => {\n                if (!status) throw new Error(\"Something went wrong\");\n                setDone(newValue);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    return (\n        <div className={getClassName([\"todo\", isDone && \"done\"])}>\n            <div className=\"value\">{data.value}</div>\n            <input type=\"checkbox\" name=\"isDone\" checked={isDone} onChange={toggleComplete} />\n        </div>\n    );\n};\n"],"sourceRoot":""}